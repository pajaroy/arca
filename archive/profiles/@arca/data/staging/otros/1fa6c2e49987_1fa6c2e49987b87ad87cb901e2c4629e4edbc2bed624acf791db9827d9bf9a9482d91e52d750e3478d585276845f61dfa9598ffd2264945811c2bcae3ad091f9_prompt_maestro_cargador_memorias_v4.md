# üß† Prompt para mejora de script ‚Äî Cargador B√°sico de Memorias ALMA_RESIST

## Contexto
Ya existe un script funcional en Python (`cargar_memorias.py`) que agrega registros de memoria institucional en archivos JSON/YAML, evitando duplicados por ID.  
Se utiliza para cargar archivos de memoria en:
- `/home/bird/alma_resist/control_central/memorias/memorias.json`
- `/home/bird/alma_resist/control_central/memorias/bitacora_viva.json`
- (y los .yaml equivalentes)

## Mejoras requeridas (nivel b√°sico)

1. **Validaci√≥n de campos obligatorios**
   - Antes de agregar cada memoria, validar que existan como m√≠nimo los campos:  
     `id`, `tipo`, `fecha`, `modulo`, `tema`, `status`, `responsable`, `tags`, `resumen`
   - Si falta alguno, mostrar mensaje de error indicando el campo faltante y NO agregar ese registro.
   - Mostrar al final cu√°ntos registros fueron rechazados por campos faltantes.

2. **Notificaci√≥n de errores y resumen**
   - Si hay duplicados, notificar como hasta ahora.
   - Si hay campos faltantes, notificar por pantalla el ID (si existe) o la posici√≥n en el archivo.
   - Al final del script, mostrar resumen:  
     ‚ÄúMemorias agregadas: X, duplicadas: Y, con error de campos: Z‚Äù.

3. **No agregar dependencias avanzadas**
   - Solo usar m√≥dulos est√°ndar de Python y PyYAML.
   - No agregar validaci√≥n con jsonschema ni nada complejo a√∫n.

4. **Mantener CLI simple**
   - Que siga aceptando `--input` y `--dest` como hasta ahora.

5. **Opcional pero recomendado**
   - Comentar brevemente el c√≥digo para facilitar futuras mejoras.

## Ejemplo de output esperado

```bash
[!] Faltan campos en registro 2: falta 'fecha', 'tipo'
[!] Duplicado, no se carga: MEM_2025-06-08_algo
[+] Memorias agregadas: 4
[-] Rechazadas (duplicadas): 1
[-] Rechazadas (errores): 2
```
¬øQu√© NO tiene que hacer por ahora?

    No tiene que soportar validaciones complejas de formato (solo existencia de campo).

    No tiene que generar logs ni backups autom√°ticos.

    No debe procesar por stdin ni soportar plugins, locks ni otros features avanzados.

Objetivo:
Solo asegurar que se cargan registros v√°lidos, evitar basura, y tener notificaciones claras para el usuario.
No agregar complejidad innecesaria ni features que rompan la simpleza actual.

‚ÄúLa validaci√≥n m√≠nima es el primer muro de defensa de la gobernanza institucional. Simplicidad y claridad primero, mejoras despu√©s.‚Äù

---