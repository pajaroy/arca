# üìÅ `context_tracker/` ‚Äì M√≥dulo de Seguimiento de Interacciones

Este m√≥dulo forma parte de la arquitectura de `ALMA_RESIST`, y se encarga de registrar, validar y recuperar interacciones hist√≥ricas entre el usuario y el sistema IA.

## üìå Objetivo

Registrar de forma estructurada y validada cada interacci√≥n del sistema, incluyendo:
- Prompt ingresado
- Respuesta generada
- Metadatos del contexto (modelo usado, m√≥dulo activo, etiquetas, etc.)
- Timestamp con formato UTC ISO8601

## üìÇ Estructura

| Archivo / Carpeta | Descripci√≥n |
|-------------------|-------------|
| `__init__.py` | Inicializador de paquete Python |
| `context_tracker.py` | Implementaci√≥n principal del `ContextTracker` |
| `chengelog_context_tracker_v0.0.0.2.md` | Registro de cambios para la versi√≥n 0.0.0.2 |
| `_legacy/` | Implementaciones antiguas para trazabilidad hist√≥rica |
| `__pycache__/` | Archivos cacheados por Python (ignorar) |

## ‚öôÔ∏è Funcionalidades Clave

- Validaci√≥n con `jsonschema`
- Esquema de datos flexible con campos opcionales
- Almacenamiento en formato `JSONL` (una interacci√≥n por l√≠nea)
- Cache interno de hasta 100 entradas para mejorar performance
- Manejo de archivos corruptos
- Borrado y reinicializaci√≥n segura del historial

## üß™ Estado de Pruebas

El m√≥dulo cuenta con cobertura total desde `tests/context_tracker/`. Los test actuales verifican:
- Registro v√°lido e inv√°lido
- Persistencia entre sesiones
- Manejo de l√≠neas corruptas
- Orden cronol√≥gico correcto
- L√≠mite de cach√©
- Permisos de archivo
- Limpieza de historial

‚úÖ √öltima ejecuci√≥n: **todos los tests pasaron correctamente**

## üöß Pendientes

- Revisi√≥n de duplicaci√≥n entre entradas por ID √∫nico
- Sincronizaci√≥n con sistema de memoria ALMA externa (futuro)
- Posible separaci√≥n entre interacciones de usuario y sistema

## üß† Integraci√≥n

Este m√≥dulo se importa desde:
```python
from core.llm_server.integration.context_tracker import ContextTracker
```

---

> Este README forma parte del sistema de documentaci√≥n interna ALMA_RESIST. Para m√°s informaci√≥n, consultar `/docs/estructura_modular.md` o `/docs/metodologia_testeo.md`.