# ğŸ§  Prompt Base â€“ `registrar_feedback.py` (Fase 5.2 â€“ ALMA_FEEDBACK)

## ğŸ¯ Objetivo
Desarrollar un script que lea alertas generadas entre memorias ALMA y las incorpore directamente en los archivos JSON originales, dentro de un campo nuevo llamado `"retroalimentacion"`.


## âœ… Requisitos del script

- Nombre: `registrar_feedback.py`
- Directorio de entrada: `memorias_json/`
- Directorio de salida: `memorias_json_actualizadas/`
- Archivo de alertas: `logs/alertas.json`

### ğŸ”„ Comportamiento esperado:

- Leer cada alerta
- Buscar la memoria cuyo `"id"` sea igual a `"memoria_conflictiva"`
- Agregar un nuevo campo `"retroalimentacion"` asÃ­:

```json
"retroalimentacion": [
  {
    "tipo": "riesgo_estres",
    "origen": "MEMTRD-045",
    "score": 0.85,
    "descripcion": "Posible correlaciÃ³n entre riesgo operativo y estrÃ©s personal",
    "fecha_alerta": "2025-05-02T15:30:00"
  }
]
```

- Si ya existe el campo, **agregar sin sobrescribir**
- Guardar la memoria modificada en `memorias_json_actualizadas/`
- Crear log de cambios en `logs/registro_feedback.log`


## ğŸ“ Estructura esperada

```
alma_loader/
â”œâ”€â”€ memorias_json/
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ alertas.json
â”‚   â””â”€â”€ registro_feedback.log
â”œâ”€â”€ memorias_json_actualizadas/
â””â”€â”€ scripts/
    â””â”€â”€ registrar_feedback.py
```

Este script implementa el mecanismo de retroalimentaciÃ³n contextual dentro de las memorias del sistema ALMA.