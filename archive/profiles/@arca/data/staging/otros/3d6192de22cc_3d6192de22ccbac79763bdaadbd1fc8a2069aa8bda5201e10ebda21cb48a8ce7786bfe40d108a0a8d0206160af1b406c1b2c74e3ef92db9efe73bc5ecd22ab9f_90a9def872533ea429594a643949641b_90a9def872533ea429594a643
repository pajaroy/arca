# üß† PROMPT DEEPSEEK ‚Äì buffer_bot.py (ALMA LIBRE v0.2)

## üß† CONTEXTO DEL PROYECTO

Estoy desarrollando un asistente modular llamado **ALMA LIBRE**, el cual incluye un bot de Telegram que ya transcribe audios correctamente usando Whisper.  
Ahora quiero evolucionarlo para que acumule ideas durante el d√≠a y permita generar **res√∫menes bajo demanda** o **autom√°ticos una vez por d√≠a**.


## ‚öôÔ∏è FUNCIONALIDADES REQUERIDAS

### üîÅ Transcripci√≥n de audio
- Igual al sistema actual, usando `whisper` + `ffmpeg`

### üß† Acumulaci√≥n en buffer
- Guardar cada transcripci√≥n en:
  ```python
  buffer_ideas.append({
      "hora": datetime.now().strftime("%H:%M"),
      "texto": transcription
  })
  ```

### ‚úã Comando `/resumen`
- Devuelve un resumen generado a partir del contenido actual de `buffer_ideas`
- Usa funci√≥n `extraer_ideas_local(texto: str) -> str` (pod√©s dejarla mockeada o preparada para API local)

### üïõ Tarea autom√°tica diaria
- A las `23:50`, generar resumen de todo el d√≠a
- Guardar resultado como archivo `.md` en carpeta `resumenes_diarios/` con nombre `YYYY-MM-DD.md`


## üõ°Ô∏è RESTRICCIONES

- No usar APIs externas (solo local o mock)
- Usar `python-telegram-bot >= v20`
- C√≥digo limpio, documentado y desacoplado
- Listo para correr con `python buffer_bot.py`
- Soporte para ejecuci√≥n como servicio (`__main__`)

