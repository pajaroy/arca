# ğŸ“¥ registrar_feedback.py â€“ IntegraciÃ³n de Feedback en Memorias ALMA

**VersiÃ³n:** 1.1  
**MÃ³dulo:** `alma_feedback/scripts/`  
**Ãšltima actualizaciÃ³n:** 2025-05-03


## ğŸ§  CaracterÃ­sticas Clave

- âœ… **ValidaciÃ³n estricta** de cada memoria con `jsonschema`
- ğŸ” **Backups automÃ¡ticos** antes de modificar cualquier archivo (`backups/`)
- âš™ï¸ **Procesamiento paralelo** con `ThreadPoolExecutor`
- ğŸ” **Sistema de hash** para evitar duplicados de feedback
- ğŸ§¾ **MÃ©tricas detalladas** al final del proceso
- ğŸ“ˆ **VersiÃ³n de feedback** establecida (`version_estructura = 1.1`)


## ğŸ“Œ Campo aÃ±adido a cada memoria

```json
"retroalimentacion": [
  {
    "tipo": "riesgo_estres",
    "origen": "MEMTRD-045",
    "score": 0.87,
    "descripcion": "Riesgo alto detectado relacionado con estrÃ©s",
    "fecha_alerta": "2025-05-03T14:23:00",
    "version_estructura": 1.1
  }
]
```


## ğŸ“Š Log del proceso

Se genera en: `logs/registro_feedback.log`

Incluye:

- Tiempo de ejecuciÃ³n
- Total de memorias actualizadas
- Total de alertas procesadas
- Errores individuales por archivo (si los hubiera)


## ğŸ”„ VersiÃ³n y extensibilidad

- Cada feedback incorpora una versiÃ³n (`1.1`)
- Se puede extender fÃ¡cilmente para agregar nuevos campos como:
  - `comentarios_IA`
  - `acciones_sugeridas`
  - `resumen_respuesta`


## ğŸ§ª Consejos

- Ejecutar este script **despuÃ©s** de correr `monitor_alertas.py`
- Revisar `memorias_json_actualizadas/` antes de reemplazar originales
- Verificar `backups/` en caso de rollback necesario

