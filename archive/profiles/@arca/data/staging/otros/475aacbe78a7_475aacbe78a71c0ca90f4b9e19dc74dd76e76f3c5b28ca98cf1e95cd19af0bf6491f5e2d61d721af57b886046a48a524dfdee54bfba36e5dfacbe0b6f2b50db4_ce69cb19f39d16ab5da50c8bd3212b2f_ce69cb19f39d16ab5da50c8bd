# ğŸ› ï¸ ALMA LIBRE â€“ Prompt TÃ©cnico v0.0.6.1

## 1. IntroducciÃ³n TÃ©cnica

Este documento define las **instrucciones operativas, reglas internas y convenciones estructurales** del sistema ALMA LIBRE. EstÃ¡ dirigido a tres tipos de entidades:

- ğŸ§  Humanos tÃ©cnicos (desarrolladores, integradores, colaboradores).
- ğŸ¤– Inteligencias artificiales con funciones operativas (ej. asistentes en NotebookLM, agentes tipo ChatGPT, copilotos).
- ğŸ§© Sistemas externos que necesiten integrarse (scripts, APIs, extensiones, automatizaciones).

ALMA LIBRE no es una app tradicional ni un software cerrado: es un **entorno modular autosustentable**, estructurado como carpeta raÃ­z, cuadernos conectados, mÃ³dulos IA, y memorias documentadas.  

Para que cualquier entidad (humana o artificial) pueda interactuar correctamente con este sistema, debe respetar:

- ğŸ“‚ La **estructura de carpetas y flujos** definida.
- ğŸ”  Las **convenciones de nombres, versiones y rutas**.
- ğŸ’¾ El **formato de almacenamiento** de datos, memoria e ideas.
- ğŸ”„ Los **procesos de actualizaciÃ³n, exportaciÃ³n y consolidaciÃ³n**.

Este Prompt TÃ©cnico serÃ¡ actualizado con cada nueva versiÃ³n funcional del sistema. Cada mÃ³dulo deberÃ¡ **leer esta versiÃ³n del prompt antes de operar**, validando la compatibilidad entre flujos, herramientas y memorias.

> âš™ï¸ Si una IA o humano no entiende este documento, no debe operar dentro del sistema ALMA LIBRE.

El sistema utiliza un esquema versionado y escalable (`0.0.6.X`) para registrar el progreso de desarrollo e integraciÃ³n. Las funciones aÃºn no implementadas pueden estar referenciadas como `EN_DESARROLLO` o `RESERVADO_PARA_FASE_X`.

Este documento puede ser utilizado como:
- Prompt inicial para modelado de IA especializado.
- Base para configurar scripts que interactÃºen con carpetas y datos.
- GuÃ­a tÃ©cnica viva para mantener orden, integridad y evoluciÃ³n controlada del sistema.


### ğŸ“‚ 2.1 Carpetas raÃ­z del sistema

Estas son las carpetas principales que deben existir dentro de `ALMA_LIBRE/`:

- `CUADERNOS/`: Cuadernos digitales por Ã¡rea temÃ¡tica (uso activo y diario).
- `EMPRESAS/`: DocumentaciÃ³n formal/legal de proyectos y organizaciones.
- `MODULOS/`: Componentes de software, IA o automatizaciÃ³n.
- `BITACORA_CENTRAL/`: Registro cronolÃ³gico, resÃºmenes, diagnÃ³sticos.
- `RECURSOS_Y_AYUDAS/`: Plantillas, scripts, prompts, ideas reusables.
- `00_BACKUPS_HISTORICOS/`: Versiones comprimidas previas. No se debe usar para operaciones activas.

Cada subcarpeta dentro de estas secciones sigue convenciones especÃ­ficas descritas en el Glosario (`docs/Glosario_ALMA_LIBRE_0.0.6.md`).


### ğŸ§  2.3 Estructura de versionado

- Cada avance significativo se registra como `vX.Y.Z`
- Cambios estructurales o conceptuales â†’ Z aumenta.
- Cambios menores en contenido tÃ©cnico â†’ `.Z+1` (ej. 0.0.6.1 â†’ 0.0.6.2)
- Backups histÃ³ricos comprimidos se almacenan en `00_BACKUPS_HISTORICOS/`
- DiagnÃ³sticos asociados a cada versiÃ³n se guardan en `BITACORA_CENTRAL/DIAGNOSTICOS/`


### âš™ï¸ 2.5 Estructura de mÃ³dulos (`MODULOS/`)

Cada mÃ³dulo debe tener su propia carpeta (ej. `Alma_Loader/`) con esta estructura:

- `/src/`: CÃ³digo fuente y archivos operativos.
- `/docs/`: Instrucciones, changelogs, diseÃ±o tÃ©cnico.
- `/tests/`: Pruebas funcionales y validaciones (opcional).
- `/config/`: Configuraciones especÃ­ficas del mÃ³dulo (si aplica).

El mÃ³dulo no debe asumir rutas absolutas fuera de su estructura: toda integraciÃ³n debe pasar por inputs definidos o configuraciÃ³n.


### ğŸ“œ 2.7 DocumentaciÃ³n requerida por carpeta

Toda subcarpeta operativa debe incluir:

- `README.md`: DescripciÃ³n del propÃ³sito y contenido.
- `CHANGELOG.md`: Si aplica, para mÃ³dulos o proyectos estructurados.
- Archivos auxiliares (`version.txt`, `estructura.md`, etc.) si son necesarios para automatizaciÃ³n o revisiÃ³n.

## 3. MÃ³dulos del Sistema

Los mÃ³dulos son unidades funcionales dentro del sistema ALMA LIBRE que permiten automatizar tareas, analizar datos, gestionar memorias o ejecutar flujos. Cada uno debe estar completamente **documentado, versionado y aislado**, de modo que pueda operar sin generar efectos colaterales fuera de su carpeta.


### ğŸ” 3.2 DescripciÃ³n de mÃ³dulos activos

#### ğŸ”¹ `Alma_Loader`
- **FunciÃ³n:** Carga, vectoriza, organiza y enlaza memorias semÃ¡nticas para uso por humanos e IAs.
- **Estado actual:** Estable (v3.0.3) â€“ Integrado con SQLite + JSON + posibles extensiones con FAISS.
- **Input esperado:** archivos `.md`, `.json` o bases de datos (`memorias.db`)
- **Output:** ResÃºmenes vectorizados, referencias cruzadas, IDs Ãºnicos, logs de carga.

#### ğŸ”¹ `automatizacion_vpd`
- **FunciÃ³n:** Recolecta, limpia y analiza datos ambientales de cultivo.
- **Estado:** En fase inicial â€“ estructura lista para ingestiÃ³n de datos diarios.
- **Output:** Archivos `.csv`, reportes semanales, alarmas por condiciones anÃ³malas.

#### ğŸ”¹ `exploraciones`
- **FunciÃ³n:** Espacio de prueba para nuevos scripts, IA o integraciones experimentales.
- **Nota:** No debe usarse en producciÃ³n. Su contenido puede migrar a mÃ³dulos formales si se valida.


### ğŸ”„ 3.4 Inputs y Outputs esperados

Cada mÃ³dulo debe definir:
- Formato exacto de entrada: `.md`, `.json`, `.sqlite`, `.csv`, etc.
- Esquema de output: nombre de archivo, carpeta destino, log de procesamiento.

Ejemplo â€“ `Alma_Loader`:
```yaml
input:
  - ruta: CUADERNOS/programacion.cu/archivos/
    tipo: .md
output:
  - ruta: MODULOS/Alma_Loader/output/vector_db.json
    log: MODULOS/Alma_Loader/logs/registro_de_ingesta.txt
```


Este punto garantiza que cualquier nuevo componente incorporado al sistema pueda operar con precisiÃ³n, sin generar ambigÃ¼edades, errores de contexto ni colisiones en nombres o rutas. Cualquier nuevo mÃ³dulo deberÃ¡ referenciar este documento y validar su estructura antes de escalar.


### ğŸ“‚ 4.1 UbicaciÃ³n de las memorias

Las memorias se almacenan y organizan dentro de:

- `BITACORA_CENTRAL/RESUMENES/`: estructura cronolÃ³gica por trimestre, semana y dÃ­a.
- `BITACORA_CENTRAL/DIAGNOSTICOS/`: evaluaciones tÃ©cnicas por versiÃ³n (`diagnostico_v0.0.6.2.md`)
- `MODULOS/Alma_Loader/`: sistema encargado de ingesta, vectorizaciÃ³n y clasificaciÃ³n de memorias.

Otros cuadernos pueden tener memorias locales (e.g. `trading.cu/resumenes/`), pero toda consolidaciÃ³n se realiza desde BITÃCORA o Alma_Loader.


### ğŸ§¬ 4.3 VectorizaciÃ³n e ingestiÃ³n

El mÃ³dulo `Alma_Loader` realiza la vectorizaciÃ³n de los documentos de memoria para permitir bÃºsquedas semÃ¡nticas. Para ello:

- Extrae los textos de los archivos `.md` o `.txt`
- Los asocia a una ID Ãºnica (`mem_2025_05_12_diario`)
- Los clasifica por tipo, carpeta de origen, fecha y palabras clave
- Opcional: exporta a `.json` o base `.sqlite`


### ğŸ”— 4.5 Relaciones entre memorias

Cada memoria puede referenciar otras usando:

- Enlaces relativos: `../diagnosticos/diagnostico_0.0.6.2.md`
- Menciones semÃ¡nticas: `#sistema_ia`, `#trading`, `#cultivo`
- Tags YAML estructurados

Estas relaciones pueden ser procesadas por mÃ³dulos IA para crear mapas de conocimiento o sugerencias de acciÃ³n.


Este sistema permite que ALMA LIBRE evolucione **con historia, contexto y aprendizaje real**, sin depender exclusivamente de la memoria efÃ­mera de un asistente externo. Cada memoria cuenta. Cada entrada moldea el sistema.


### ğŸ§  5.1 Flujo Diario de Registro y ConsolidaciÃ³n

```text
Usuario â†’ CUADERNOS/*.cu/docs/ â†’ BITACORA_CENTRAL/RESUMENES/
```

- Las ideas o tareas se registran en `CUADERNOS/*/docs/*.md`
- Se copian o vinculan a `BITACORA_CENTRAL/RESUMENES/SXX/`
- Alma_Loader puede luego procesarlas para vectorizaciÃ³n

> ğŸ›¡ï¸ Desde la versiÃ³n 0.0.6.2, **todos los archivos que se mueven desde CUADERNOS hacia BITACORA deben pasar por una validaciÃ³n previa mediante `sync_bitacora.py`**.
>
> Esta validaciÃ³n:
> - Calcula y registra el hash SHA-256 del contenido
> - Inserta encabezado YAML si no existe
> - Verifica duplicados existentes por nombre y contenido
> - Registra todo en logs estructurados (`MODULOS/sync_bitacora/logs/`)



### ğŸ” 5.3 Ingesta y VectorizaciÃ³n de Memorias (Alma_Loader)

```text
CUADERNOS/*.cu/docs/*.md â†’ MODULOS/Alma_Loader/ â†’ vector_db.json + versiÃ³n
```

- Archivos .md son procesados y vectorizados
- Output contiene `version_modelo`, fecha y estructura clara
- Vectores antiguos se archivan en `historic_vectors/`

```python
# Ejemplo: CLI Assistant consulta a Alma_Loader por vector semÃ¡ntico

from Alma_Loader.src.loader import search_vector_db

consulta = "estrategia BTC scalping"
resultados = search_vector_db(consulta)

for item in resultados:
    print(f"- {item['titulo']} ({item['fecha']}) â†’ {item['snippet']}")

```


### ğŸ’¬ 5.5 CLI Assistant (MVP Experimental)

```text
Terminal â†’ CLI â†’ Alma_Loader + BITACORA â†’ Respuesta
```

- Comandos: `alma buscar`, `alma resumir`, `alma diagnosticar`
- Opera en solo lectura sobre memoria consolidada
- Logs opcionales en `BITACORA_CENTRAL/LOGS_CLI/`


### ğŸ” 5.7 Acceso a Recursos Compartidos

```text
MODULOS/ o CUADERNOS/ â†’ RECURSOS_Y_AYUDAS/ (solo lectura)
```

- Contiene plantillas, scripts base, prompts tÃ©cnicos
- No puede ser modificado directamente sin control de versiÃ³n


### ğŸ”— 5.9 ğŸ”„ Diagrama Global de Flujos â€“ ALMA LIBRE v0.0.6.2 (Extendido)

```mermaid
graph TD
  A[Usuario/IA] --> B[CUADERNOS]
  B --> C[BITACORA_CENTRAL]
  B --> D[MODULOS/Alma_Loader]
  D --> E[vector_db.json]
  E -->|versionado| L[historic_vectors/]
  C --> F[DIAGNOSTICOS]
  B --> G[EMPRESAS]
  G --> H[Documentos Formales]
  E --> I[CLI Assistant]
  F --> I
  C --> I
  D --> J[validador_estructura.py]
  J --> F
  I -->|usa| K[RECURSOS_Y_AYUDAS/plantillas/log_template.yaml]
  M[automatizacion_vpd] --> N[reporte_estado.py]
  D --> N
  I --> N
  N --> O[BITACORA/LOGS_MODULOS/]
  P[sync_bitacora.py]
  P --> B
  P --> C
  P --> Q[VerificaciÃ³n por hash]
```


#### ğŸ“Œ Recomendaciones para implementaciÃ³n

- **Incluir este diagrama directamente en el Prompt TÃ©cnico y el Whitepaper.**
- **Marcar conexiones crÃ­ticas con anotaciones o estilos de color cuando sea posible.**
- **Documentar funciones clave en archivos individuales (`README.md` por mÃ³dulo).**
- **Trazabilidad completa en el changelog al aplicar cada uno.**

Este diagrama extendido permite que cualquier asistente de IA o desarrollador humano entienda la arquitectura completa sin leer cada mÃ³dulo por separado.


Este bloque puede ser exportado o reutilizado en los manuales de uso o como referencia en otros prompts inteligentes.


### ğŸ“Œ 6.1 AplicaciÃ³n del esquema

Ejemplos:
- `v0.0.6.1` â†’ VersiÃ³n estable con estructura reorganizada, lista para flujos.
- `v0.0.6.2` â†’ Correcciones a nomenclatura, glosario y estructuras internas.
- `v0.1.0` â†’ IntroducciÃ³n del sistema IA de memoria vectorizada completo.
- `v1.0.0` â†’ Primera versiÃ³n formal funcional de sistema completo.


### ğŸ“„ 6.3 Archivos clave por versiÃ³n

Dentro del sistema deben mantenerse:

- `README.md`: propÃ³sito y uso general de la versiÃ³n.
- `CHANGELOG.md`: listado ordenado por fecha y tipo de cambio.
- `version.txt`: solo nÃºmero de versiÃ³n (`0.0.6.1`) y fecha de release (`2025-05-13`).
- `diagnostico_v0.X.Y.md`: resumen tÃ©cnico y propuestas de mejora futura.


### ğŸ›¡ï¸ 6.5 Buenas prÃ¡cticas

- Cada versiÃ³n debe poder abrirse por separado y funcionar como unidad.
- Las rutas y nombres deben seguir las convenciones del glosario correspondiente.
- Las IAs deben poder leer `README.md`, `CHANGELOG.md` y `glosario_*.md` para operar.
- No deben eliminarse versiones anteriores. Si hay errores, se corrige con `.Z+1`.

## 7. Interfaz con el Usuario y Asistentes

El sistema ALMA LIBRE fue diseÃ±ado para ser operado tanto por humanos como por asistentes de inteligencia artificial. Esta secciÃ³n define el **comportamiento esperado, los lÃ­mites operativos y las formas correctas de interacciÃ³n** para garantizar seguridad, eficiencia y contexto persistente.


### ğŸ§­ 7.2 NavegaciÃ³n estructural recomendada

Al momento de operar, la IA debe:

- Leer `README.md`, `glosario_ALMA_LIBRE_0.0.6.md` y `prompt_tecnico_0.0.6.1.md` antes de actuar.
- Consultar `BITACORA_CENTRAL/RESUMENES/` para conocer eventos recientes.
- Validar versiÃ³n activa a travÃ©s de `version.txt`.

No debe navegar hacia carpetas fuera de `ALMA_LIBRE/`. Se prohÃ­be el acceso a carpetas de backup (`00_BACKUPS_HISTORICOS/`) durante operaciÃ³n activa.


### ğŸ”— 7.4 Enlace con usuarios humanos

El usuario debe tener siempre la Ãºltima palabra. La IA debe:

- Preguntar antes de intervenir sobre estructuras.
- Confirmar rutas y destinos antes de sugerir movimientos.
- Pedir confirmaciÃ³n antes de generar scripts.

AdemÃ¡s, debe permitir al humano:
- Guardar toda conversaciÃ³n como archivo `.md`
- Incorporar enlaces relativos que respeten la arquitectura
- Solicitar documentaciÃ³n adicional desde el sistema (`docs/`, `glosario/`, etc.)


### ğŸ›¡ï¸ 7.6 Limitaciones y advertencias

IA no debe:
- Borrar ni sobrescribir documentos histÃ³ricos.
- Reorganizar carpetas sin checklist previa.
- Hacer supuestos sin base documental.
- Repetir informaciÃ³n innecesariamente (ver secciÃ³n 4.6 del whitepaper).

## 8. Extensiones Futuras

ALMA LIBRE estÃ¡ diseÃ±ado como un sistema modular y escalable. Esta secciÃ³n anticipa cÃ³mo integrar nuevas funciones, mÃ³dulos o herramientas sin perder coherencia estructural ni trazabilidad.


### ğŸ§ª 8.2 Carpeta de pruebas y prototipos

Toda funciÃ³n nueva debe pasar por una etapa de exploraciÃ³n:

- Usar `MODULOS/exploraciones/` o `RECURSOS_Y_AYUDAS/ideas_y_esquemas/`
- Documentar propÃ³sito y lÃ­mites
- Evaluar su integraciÃ³n con flujos actuales

Solo una vez validado, puede escalarse a mÃ³dulo oficial.


### ğŸ§  8.4 Agentes IA especializados

Se podrÃ¡n generar asistentes entrenados en:

- Responder sobre mÃ³dulos especÃ­ficos
- Monitorear cambios y sugerir mejoras
- Operar como copilotos de ejecuciÃ³n

Cada agente debe tener:

- Prompt base especÃ­fico
- Rutas claras de acceso a `docs/`, `glosario/`, `bitÃ¡cora/`
- LÃ­mite definido de modificaciÃ³n o sugerencia


### ğŸ”„ 8.6 AutomatizaciÃ³n de flujos

Se desarrollarÃ¡n:

- Scripts para consolidaciÃ³n semanal automÃ¡tica
- Generadores de changelogs
- Validadores de estructura (`validador_estructura.py`)
- SincronizaciÃ³n y backup incremental automatizado

Toda funciÃ³n automatizada debe dejar trazabilidad por log y respetar las rutas oficiales.


Estas extensiones no deben considerarse futuras promesas: son caminos activos de crecimiento. Cada una puede escalar por fases, y deben ser documentadas, testeadas y versionadas dentro del marco operativo de ALMA LIBRE.

## 9. ApÃ©ndices

Esta secciÃ³n contiene recursos de apoyo tÃ©cnico, convenciones de formato y utilidades generales que complementan el funcionamiento del sistema ALMA LIBRE.


### ğŸ“š 9.2 Glosario tÃ©cnico resumido

| TÃ©rmino        | DefiniciÃ³n                                                                 |
|----------------|---------------------------------------------------------------------------|
| Cuaderno (.cu) | Carpeta temÃ¡tica que agrupa ideas, pruebas y desarrollos por Ã¡rea activa  |
| BitÃ¡cora       | Registro cronolÃ³gico del sistema con resÃºmenes y diagnÃ³sticos             |
| MÃ³dulo         | Carpeta funcional con cÃ³digo, configuraciÃ³n y documentaciÃ³n               |
| Memoria        | Entrada escrita que registra eventos, ideas, datos o decisiones           |
| DiagnÃ³stico    | EvaluaciÃ³n tÃ©cnica y conceptual del sistema                               |
| Prompt         | InstrucciÃ³n diseÃ±ada para IA, humana o automatizada                       |
| Flujo          | Camino estructurado que conecta acciones, carpetas y decisiones           |


### ğŸ“… 9.4 Esquema de planificaciÃ³n

```plaintext
ğŸ“ CUADERNOS/
   â”œâ”€ alma_gral.cu/
   â”œâ”€ programacion.cu/
   â””â”€ fondo_empresa.cu/

ğŸ“ MODULOS/
   â”œâ”€ Alma_Loader/
   â””â”€ exploraciones/

ğŸ“ BITACORA_CENTRAL/
   â”œâ”€ RESUMENES/
   â””â”€ DIAGNOSTICOS/

ğŸ“ EMPRESAS/
ğŸ“ RECURSOS_Y_AYUDAS/
ğŸ“ 00_BACKUPS_HISTORICOS/
```


Este apÃ©ndice asegura una base tÃ©cnica comÃºn que puede consultarse en cualquier etapa para evitar errores, malentendidos o desvÃ­os en la evoluciÃ³n del sistema.

