¬°Perfecto! Aqu√≠ est√° la versi√≥n actualizada de `config.py` que **carga global.yaml + schema.yaml** y maneja la DB, todo en uno (sin logger para mantenerlo simple):

```python
# /home/bird/@arca/core/config/config.py
import sqlite3
import yaml
from pathlib import Path

# --- Rutas absolutas ---
BASE_DIR = Path("/home/bird/@arca")
PATHS = {
    "global_config": BASE_DIR / "config/global.yaml",
    "schema_sql": BASE_DIR / "meta/schema.sql",
    "schema_yaml": BASE_DIR / "meta/schema.yaml",
    "db": BASE_DIR / "database/processed/arca.db"
}

# --- Cargar configs ---
def load_yaml(path):
    with open(path) as f:
        return yaml.safe_load(f)

config = load_yaml(PATHS["global_config"])
schema = load_yaml(PATHS["schema_yaml"])

# --- Inicializar DB ---
def init_db():
    if not PATHS["db"].exists():
        PATHS["db"].parent.mkdir(exist_ok=True)
        conn = sqlite3.connect(PATHS["db"])
        with open(PATHS["schema_sql"]) as f:
            conn.executescript(f.read())
        conn.close()

init_db()  # Asegura que la DB est√© lista

# --- Conexi√≥n r√°pida ---
def get_db():
    return sqlite3.connect(PATHS["db"])

# --- Validaci√≥n contra schema ---
def validate_data(data: dict, table_name: str):
    """Valida datos seg√∫n schema.yaml"""
    table_schema = schema["tables"][table_name]
    errors = []
    
    for field, rules in table_schema["columns"].items():
        if rules.get("required") and field not in data:
            errors.append(f"Campo requerido faltante: {field}")
        # Aqu√≠ puedes agregar m√°s validaciones (tipos, etc.)
    
    return errors if errors else None
```

---

### **¬øC√≥mo usarlo?**  
1. **Acceder a configuraciones**:  
   ```python
   from core.config.config import config, schema
   
   print("Formatos permitidos:", config["formats"]["allowed"]["pdf"])
   print("Esquema de 'archivos':", schema["tables"]["archivos"])
   ```

2. **Validar datos antes de insertar**:  
   ```python
   datos = {"nombre": "informe.pdf", "tipo": "PDF"}
   if errors := validate_data(datos, "archivos"):
       print("Errores:", errors)
   else:
       # Insertar en DB...
   ```

3. **Obtener conexi√≥n a DB**:  
   ```python
   from core.config.config import get_db
   
   with get_db() as conn:
       conn.execute("INSERT INTO archivos VALUES (?, ?)", ("informe.pdf", "PDF"))
   ```

---

### **Ventajas**  
‚úÖ **Todo en uno**: Configs, esquemas y DB listos al importar.  
‚úÖ **Validaci√≥n simple**: `validate_data()` usa `schema.yaml`.  
‚úÖ **C√≥digo autodocumentado**: Los tipos de campos est√°n en el YAML.  

---

### **Estructura de `schema.yaml` de Ejemplo**  
```yaml
tables:
  archivos:
    columns:
      id: { type: TEXT, required: true }
      nombre: { type: TEXT, required: true }
      tipo: 
        type: TEXT 
        allowed: ${global.formats.allowed.docs}  # Reusa tu global.yaml!
```

---

**Conclusi√≥n**: Ahora tienes un **sistema centralizado** que:  
1. Carga configs al iniciar  
2. Valida datos contra el esquema  
3. Mantiene la DB inicializada  

¬øNecesitas ajustar c√≥mo se cargan los esquemas o prefieres un ejemplo pr√°ctico de validaci√≥n? üòä