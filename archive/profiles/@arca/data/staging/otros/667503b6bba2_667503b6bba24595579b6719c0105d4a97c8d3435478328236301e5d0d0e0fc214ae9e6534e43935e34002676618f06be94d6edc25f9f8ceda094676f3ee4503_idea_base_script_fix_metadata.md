---
version: 1.0
id: IDEA_2025-06-06_01
tipo: idea_base_script
formato: yaml
modulo: centralesis/core/notebooks
titulo: "Script universal para corrección y estandarización de metadata en archivos críticos"
autor: centralesis
fecha_creacion: 2025-06-06
fecha_actualizacion: 2025-06-06
status: en_desarrollo
version_sistema: 2.3
origen: manual
tags: [metadata, fix, script, auditoria, estandarizacion]
hash_integridad: sha256:pending
linked_to: []
descripcion: >
  Documento de idea base y requisitos para el desarrollo del script "fix_metadata", encargado de validar, corregir y estandarizar los bloques de metadata en todos los archivos críticos de Centralesis y ecosistema ALMA_RESIST. Servirá como referencia oficial para implementación, auditoría y evolución futura.
---
### **Propuesta de bloque de metadata universal para archivos ALMA_RESIST**

_(para .md, .yaml, .py, .sh, .json, etc. — solo adaptando el campo “tipo” y “formato” según necesidad)_

``` yaml
---
version: 1.0
id: <tipo>_<yyyy-mm-dd>_<xx>       # Ejemplo: MEM_2025-06-06_04
tipo: <tipo_registro>              # fundacional, decision, bitacora, changelog, script, etc.
formato: <md|yaml|py|sh|json>      # extensible para control multiarchivo
modulo: <modulo/carpeta>
titulo: "<título_breve_descriptivo>"
autor: <humano|agente>
fecha_creacion: YYYY-MM-DD
fecha_actualizacion: YYYY-MM-DD
status: <activo|cerrado|en_revision|obsoleto>
version_sistema: <sistema_version> # Ejemplo: 2.3
origen: <archivo_origen|manual>
tags: [tag1, tag2, ...]
hash_integridad: sha256:<hash>
linked_to: [relaciones_cruzadas]
descripcion: >
  Breve descripción del propósito y contexto del archivo.
---
```

_(Luego del bloque metadata, sigue el contenido, script o desarrollo.)_

---

### **Explicación de cada campo:**

- `version`: Versión de la metadata (permite evolución/migración futura).
    
- `id`: Identificador único siguiendo convención oficial, garantiza unicidad.
    
- `tipo`: Tipo de archivo/registro (decision, script, changelog, memoria, protocolo, etc.).
    
- `formato`: md, yaml, py, sh, json... (automatiza procesos de transformación y parsing).
    
- `modulo`: Ruta/módulo lógico del ecosistema (ejemplo: centralesis/tools, arquitectura/infra, etc.).
    
- `titulo`: Resumen corto (human-readable, rápido para indexar/buscar).
    
- `autor`: Humano o agente responsable original.
    
- `fecha_creacion`: Fecha de creación (ISO, obligatorio).
    
- `fecha_actualizacion`: Fecha de última actualización real (automatizable).
    
- `status`: Estado operativo (activo, cerrado, obsoleto, en_revision).
    
- `version_sistema`: A qué versión de ALMA_RESIST o Centralesis corresponde.
    
- `origen`: Archivo o módulo de origen, o “manual” si es creado desde cero.
    
- `tags`: Lista de palabras clave para tracking, búsqueda y clasificación.
    
- `hash_integridad`: Hash SHA256 del contenido para trazabilidad y detección de modificaciones (obligatorio en productivo).
    
- `linked_to`: Referencias cruzadas a otros archivos o módulos.
    
- `descripcion`: Breve explicación del propósito, alcance y contexto del archivo.
    

---

### **Protocolo mínimo del script `fix_metadata`:**

1. **Recorrer todos los archivos** en la carpeta y subcarpetas.
    
2. **Verificar presencia y formato** del bloque metadata.
    
3. **Agregar/completar campos faltantes**, usando datos por defecto o solicitando input mínimo.
    
4. **Validar unicidad de `id`** y correcta actualización de fechas.
    
5. **Generar y/o actualizar `hash_integridad`.**
    
6. **Loggear cada cambio** (archivo, acción, resultado, timestamp).
    
7. **Reportar archivos que no pueden ser reparados automáticamente** (casos extremos).
    
8. **Dejar backup automático previo a toda modificación.**
    
9. **Permitir modo “dry run” para solo diagnosticar sin modificar.**
    

---