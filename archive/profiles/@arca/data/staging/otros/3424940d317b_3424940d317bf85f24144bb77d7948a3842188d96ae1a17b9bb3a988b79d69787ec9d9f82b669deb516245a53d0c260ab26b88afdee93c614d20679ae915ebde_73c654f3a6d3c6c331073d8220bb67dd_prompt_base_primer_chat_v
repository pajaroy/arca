
# üì° PROMPT BASE ‚Äì Investigaci√≥n Profunda GPT-4.5 (v0.8)

## üéØ Objetivo General

Dise√±ar un sistema de IA modular, offline y antifr√°gil, con:

- Logging y recuperaci√≥n resilientes
- Cifrado con rotaci√≥n de claves y bloqueo antifuerza bruta
- Documentaci√≥n autom√°tica para emergencias
- Chat optimizado para hardware limitado (RAM, CPU)


## ‚öôÔ∏è Entorno T√©cnico

- SO: Linux x86_64
- RAM m√≠nima: 8 GB
- CPU: 4 n√∫cleos
- Python 3.10.12+
- Sin conexi√≥n a internet (offline-first)


## üìÅ Archivos Base

- `ALMA_LIBRE/`
- `idea_base_0.0.9.md`
- `docs/flujo_secuencial.mmd`


## ‚úÖ Checklist Cr√≠tico

### Manejo de Errores
- [ ] CLI muestra errores codificados (E-404: DB corrupta)
- [ ] Errores cr√≠ticos registrados en `docs/fallos_criticos.md`
- [ ] CLI sugiere comandos correctivos (`alma --reparar-db`)

### Seguridad y Cifrado
- [ ] Clave maestra derivada (PBKDF2-SHA512)
- [ ] Clave rotada autom√°ticamente cada 30 d√≠as (`alma --rotate-keys`)
- [ ] Bloqueo tras 3 fallos en restauraci√≥n (`alma --unlock` solo desde root)

### Optimizaci√≥n Chat
- [ ] Uso de mmap para historial en disco
- [ ] Limpieza de cache horaria (`alma --flush-cache`)
- [ ] Solo √∫ltimos 100 mensajes cargados en RAM

### Pruebas Automatizadas
- [ ] `run_tests.sh` ejecuta:
  - pytest unit tests
  - `test_restauracion_parcial()`
  - carga RAM/disco con locust
- [ ] Validaci√≥n cifrado con OpenSSL (`openssl enc -d`)


## üìö Documentaci√≥n Autoexplicativa

- [ ] `docs/guia_emergencia.md` generado si ocurre fallo cr√≠tico
  - Instrucciones para regenerar claves
  - Pasos para recuperar logs y reconstruir DB
  - Lista de errores frecuentes y soluciones


## üìù Instrucci√≥n Final para GPT-4.5

> Utiliz√° `ALMA_LIBRE/` y `idea_base_0.0.9.md` como referencia. Luego gener√°:
- Roadmap con tareas priorizadas, m√©tricas y flujos
- C√≥digo de cifrado con rotaci√≥n y seguridad reforzada
- Tests automatizados (pytest + locust)
- Estrategias de restauraci√≥n parcial y detecci√≥n de fallos
- Gu√≠a de emergencia generada autom√°ticamente
- Optimizaci√≥n real para entornos con recursos limitados

