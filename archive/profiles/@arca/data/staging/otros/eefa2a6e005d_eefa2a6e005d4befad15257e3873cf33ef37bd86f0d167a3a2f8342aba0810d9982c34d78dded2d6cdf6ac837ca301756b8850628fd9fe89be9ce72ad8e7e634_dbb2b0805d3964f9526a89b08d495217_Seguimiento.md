

**Fecha Ãºltima actualizaciÃ³n:** 2025-04-30 07:53
# ğŸ§  PROYECTO ALMA â€“ Seguimiento TÃ©cnico Modular

Este documento resume el progreso tÃ©cnico del sistema ALMA, mÃ³dulo por mÃ³dulo. Cada secciÃ³n corresponde a una **fase de implementaciÃ³n** y **subsistema especÃ­fico**, con fechas, funcionalidades implementadas y prÃ³ximos pasos.

Objetivo general: construir un sistema de memorias dinÃ¡micas IA â†” humano, semÃ¡ntico, automatizable y navegable como grafo de conocimiento.

## ğŸ¤– Â¿QuÃ© puede hacer una IA con este mÃ³dulo?

- Leer todas las memorias del sistema y generar relaciones automÃ¡ticas por similitud semÃ¡ntica.
- Detectar clusters temÃ¡ticos o contradicciones internas (ej: riesgo alto â†” salud).
- Exportar los datos como archivo unificado para entrenar modelos o visualizar en grafos.

## ğŸ“œ Progreso por Fase â€“ Detallado

## âœ… FASE 1 â€“ ValidaciÃ³n SemÃ¡ntica

ğŸ“… Completada: 2025-04-30  
ğŸ”§ Implementaciones:

- `validador_custom.py` con lectura masiva de JSON y validaciÃ³n por categorÃ­a
    
- `reglas.py` modular con validadores TRD y HEALTH
    
- Logging de errores + mensajes en consola
    
- Preparado para GitHub Actions (exit 1 en caso de error)
    


#### ğŸ“‚ Estructura Final Actual

bash

CopiarEditar

`alma_loader/ â”œâ”€â”€ memorias_json/          # ğŸ“¦ Base principal de datos â”œâ”€â”€ memorias_md/            # ğŸ“„ VisualizaciÃ³n para Obsidian â”œâ”€â”€ scripts_utilitarios/ â”‚   â””â”€â”€ json_to_md.py â”œâ”€â”€ validadores/ â”‚   â”œâ”€â”€ validador_custom.py â”‚   â””â”€â”€ reglas.py â”œâ”€â”€ log_conversion.txt â”œâ”€â”€ log_validacion.txt`

```hash
**ğŸ§¾ Archivos clave (ALMA_LOADER):**
- `validador_custom.py`
- `json_to_md.py`
- `reglas.py`
```

### ğŸ§  PropÃ³sito del MÃ³dulo

Detectar relaciones semÃ¡nticas entre memorias ALMA a travÃ©s de modelos de NLP, generando estructuras de conexiÃ³n inteligente entre entradas personales.


### âš™ï¸ Flujo de trabajo

1. Carga de `.json` desde `dataset_test/`
    
2. ValidaciÃ³n de campos mÃ­nimos (`id`, `contenido`)
    
3. Embeddings por lotes (batch size 32)
    
4. CÃ¡lculo de similitud con `cosine_similarity`
    
5. Filtro por score > 0.75
    
6. VisualizaciÃ³n opcional como grafo
    
7. Logs escritos en `logs/`
    


### ğŸ“‚ Estructura Final

bash

CopiarEditar

`alma_nlp/ â”œâ”€â”€ dataset_test/ â”œâ”€â”€ embeddings/              # (no utilizado aÃºn) â”œâ”€â”€ logs/ â”‚   â”œâ”€â”€ relaciones_sugeridas.json â”‚   â””â”€â”€ procesamiento.log â”œâ”€â”€ modelo/                  # (espacio reservado para modelo offline) â”œâ”€â”€ relacionador_nlp.py â”œâ”€â”€ seguimiento.md â”œâ”€â”€ prompt_base.md â””â”€â”€ README.md`

### VersiÃ³n 0.0.4 â€“ 2025-05-01

- âœ… FASE 3 completada: relaciones semÃ¡nticas entre memorias.
- Implementado `relacionador_nlp.py`:
  - Embeddings con modelo en espaÃ±ol (`sentence-transformers`)
  - AnÃ¡lisis por similitud semÃ¡ntica entre contenidos
  - Log detallado de relaciones en `logs/relaciones_sugeridas.json`
- GeneraciÃ³n de grafo de relaciones con NetworkX
  - Guardado como imagen (`grafo_relaciones.png`) en logs/
  - Score visible en cada conexiÃ³n
- Dataset de prueba con 20 memorias multitemÃ¡ticas creado para testing
- Flujo validado en entorno virtual con entorno aislado (`env_nlp`)
- Estructura modular lista para escalar a ChromaDB o Neo4j (Fase 4)



### ğŸ§  FASE 3 â€“ Relaciones SemÃ¡nticas entre Memorias

**ğŸ“… Fecha de cierre:** 2025-05-01  
**ğŸ“‚ MÃ³dulo:** `alma_nlp/`  
**VersiÃ³n:** 0.0.4


### âœ… Implementaciones completadas

- `relacionador_nlp.py`:
  - Procesa archivos `.json` desde `dataset_test/`
  - Extrae `contenido` y genera embeddings con `sentence-transformers`
  - Calcula similitud coseno entre todas las memorias
  - Filtra relaciones con score > 0.75
  - Guarda el resultado en `logs/relaciones_sugeridas.json`
  - Visualiza opcionalmente un grafo con `networkx` + `matplotlib`

- OptimizaciÃ³n del procesamiento:
  - Uso de `tqdm` para barras de progreso
  - Carga en lotes (batch de 32)
  - LÃ­mite de caracteres por memoria para eficiencia
  - ValidaciÃ³n robusta y logs detallados de errores

- VisualizaciÃ³n:
  - Grafo generado con etiquetas de score
  - Exportado como imagen en `logs/`

- DocumentaciÃ³n:
  - README con estructura y propÃ³sito del mÃ³dulo
  - Prompt base oficial (`prompt_base.md`)
  - Dataset sintÃ©tico de 20 memorias para testeo


### ğŸ§  FASE 3 â€“ Relaciones SemÃ¡nticas entre Memorias

**ğŸ“… Fecha de cierre:** 2025-05-01  
**ğŸ“‚ MÃ³dulo:** `alma_nlp/`  
**VersiÃ³n:** 0.0.4


### âœ… Implementaciones completadas

- `relacionador_nlp.py`:
  - Procesa archivos `.json` desde `dataset_test/`
  - Extrae `contenido` y genera embeddings con `sentence-transformers`
  - Calcula similitud coseno entre todas las memorias
  - Filtra relaciones con score > 0.75
  - Guarda el resultado en `logs/relaciones_sugeridas.json`
- VisualizaciÃ³n del grafo:
  - Grafo generado con NetworkX y matplotlib
  - Etiquetas de score visibles en cada arista
  - Imagen generada como `grafo_relaciones.png`
- Dataset sintÃ©tico de 20 memorias para testing
- ValidaciÃ³n en entorno virtual aislado (`env_nlp`)
- PreparaciÃ³n para integraciÃ³n futura con Neo4j o ChromaDB


### ğŸ”œ PrÃ³ximos pasos (Fase 4)

- Poblar las relaciones en Neo4j como grafo semÃ¡ntico real
- Hacer trazabilidad cruzada entre memorias y contexto
- Detectar contradicciones, patrones o clusters con Cypher


### âœ… Implementaciones realizadas

- Script `cargar_grafo.py`:
  - Carga nodos de tipo Memoria, Tag, Chat
  - Crea relaciones `TIENE_TAG`, `USADO_EN`, `IMPACTA`
  - Usa transacciones atÃ³micas con `neo4j-driver`
- ConfiguraciÃ³n inicial con `.env` para conexiÃ³n segura
- Script `setup_neo4j.cql`:
  - Crea constraints de unicidad por ID
  - Ãndice por categorÃ­a de memoria
- Logging robusto y validaciÃ³n de campos requeridos
- README y documentaciÃ³n interna para consultas Cypher

## ğŸ§  FASE 5 â€“ Sistema de RetroalimentaciÃ³n y Alerta Contextual  
ğŸ“… **Inicio:** 2025-05-02  
ğŸ“‚ **MÃ³dulo:** `alma_feedback/`  
ğŸ“Œ **VersiÃ³n:** 0.0.6


### âœ… Implementado hasta ahora

- `reglas_alerta.py`: contiene funciones para analizar pares de memorias
- `config_alertas.json`: define quÃ© reglas estÃ¡n activas
- `monitor_alertas.py`: escanea memorias, aplica reglas y genera `alertas.json`
- Conectado directamente a `alma_loader/memorias_json/`
- Logging robusto en `monitor_alertas.log`


ğŸ”§ Este sistema serÃ¡ la base para la futura Fase 6 de autodiagnÃ³stico, reflexiones automatizadas y alertas adaptativas.


## ğŸ¯ Objetivo del MÃ³dulo

Desarrollar un sistema de monitoreo semÃ¡ntico que pueda detectar correlaciones problemÃ¡ticas, contradicciones o sinergias entre las distintas memorias del sistema ALMA, generando alertas interpretables por humanos y sistemas automatizados.


## ğŸ”§ Estado Actual

| Componente              | Estado | Comentario |
|-------------------------|--------|------------|
| monitor_alertas.py      | âœ…     | Validado con memorias reales |
| reglas_alerta.py        | âœ…     | Reglas iniciales cargadas |
| visor_alertas.py        | âœ…     | VisualizaciÃ³n funcional y clara |
| alertas.json            | âœ…     | Se genera correctamente |
| ExportaciÃ³n Markdown    | âœ…     | Genera resumen automÃ¡tico |
| ConfiguraciÃ³n dinÃ¡mica  | âœ…     | Flexible vÃ­a `config_alertas.json` |


### ğŸ¯ Objetivo de la Fase
Desarrollar un sistema robusto para **registrar y consolidar la retroalimentaciÃ³n derivada del sistema de alertas**, integrando los datos directamente en las memorias conflictivas.


# ğŸ“Š Seguimiento TÃ©cnico â€“ FASE 5.3 â€“ ConsolidaciÃ³n Final

**ğŸ“… Fecha estimada:** 2025-05-01  
**ğŸ“‚ MÃ³dulo:** `alma_feedback/`  
**VersiÃ³n esperada:** 0.0.7


### ğŸ› ï¸ Pendientes

- Crear script `exportar_feedback_unificado.py`
- Agregar filtros por tipo de alerta y categorÃ­a
- Generar exportaciones en JSON y JSONL
- Documentar conexiones sugeridas entre feedbacks y prÃ³ximas acciones



## ğŸ§  Notas TÃ©cnicas

- Las rutas son relativas a `alma_loader/`.
- Se recomienda mantener logs limpios y agregar reglas progresivamente.
- Compatible con Python 3.10+.


