# ğŸš€ Sprint Actual â€“ SincronizaciÃ³n Total de Nodos ALMA_RESIST

**Fecha de inicio:** 2025-06-01  
**Responsable:** Santi (Comandante ALMA)  
**UbicaciÃ³n del mÃ³dulo:** `control_central/control/sprint_actual.md`

---

## ğŸ¯ Objetivo Principal

Lograr sincronizaciÃ³n **en tiempo real**, **bidireccional**, y **automÃ¡tica** entre las computadoras `ALMA_CORE` y `ALMA_RESIST`, incluyendo:

- Archivos de trabajo (`ALMA_RESIST/`)
- Vault de Obsidian PRO
- Backups diarios a GitHub privado

---

## ğŸ§© Componentes Clave

- **Syncthing**: replicaciÃ³n instantÃ¡nea entre nodos.
- **GitHub**: backup versiÃ³n controlada (24h).
- **VS Code**: visor universal de ediciÃ³n.
- **Obsidian**: entorno cognitivo sincronizado.

---

## âœ… Tareas a Ejecutar

- [ ] Configurar Syncthing para `obsidian_vault/` y `ALMA_RESIST/`
- [ ] Validar sincronizaciÃ³n real entre carpetas
- [ ] Implementar script `backup_to_git.sh`
- [ ] Agendar con `cron` o `systemd.timer` backup diario a GitHub
- [ ] Agregar `alma status --sync` como comando CLI general
- [ ] Generar log rotativo en `logs/backup_git.log`
- [ ] Escribir `docs/sync/README.md` con pasos de recuperaciÃ³n

---

## ğŸ“ Estructura Esperada

```
ALMA_RESIST/
â”œâ”€â”€ obsidian_vault/        
â”œâ”€â”€ core/                  
â”œâ”€â”€ docs/                  
â”œâ”€â”€ config/                
â”œâ”€â”€ logs/                  
```

---

## ğŸ§  Exigencias

- Toda configuraciÃ³n debe tener `.sh` replicable.
- Tolerancia a reinicio/red.
- Mismo entorno = misma experiencia en ambas mÃ¡quinas.

---

## ğŸš§ Estado Inicial

- [x] Syncthing instalado
- [x] VS Code y Obsidian listos
- [x] GitHub configurado
- [ ] AutomatizaciÃ³n y validaciÃ³n pendiente

---

> Esta sincronizaciÃ³n serÃ¡ el eje operativo del sistema ALMA_RESIST. Cualquier ruptura en la rÃ©plica serÃ¡ tratada como fallo crÃ­tico del ecosistema.

Esto se puede ver 

---
# âœ… Checklist â€“ Fase 1: SincronizaciÃ³n en Tiempo Real (Syncthing)
ğŸ“… Fecha: 2025-06-01

---

## ğŸ¯ Objetivo
Sincronizar **bidireccionalmente y automÃ¡ticamente** las carpetas crÃ­ticas entre `ALMA_CORE` y `ALMA_RESIST` usando Syncthing.

---

## ğŸ“‚ Carpetas a sincronizar

- [ ] `~/ALMA_RESIST/obsidian_vault`
- [ ] `~/ALMA_RESIST/` (incluye `core/`, `docs/`, `config/`, etc.)

---

## ğŸ§± Paso 1 â€“ Configurar Syncthing

- [ ] Lanzar Syncthing en ambas mÃ¡quinas (`syncthing &`)
- [ ] Acceder a interfaz: `http://localhost:8384`
- [ ] AÃ±adir el Device ID del otro nodo
- [ ] Nombrar correctamente: `ALMA_CORE` / `ALMA_RESIST`
- [ ] Compartir carpetas desde ALMA_CORE:
  - [ ] `obsidian_vault`
  - [ ] `ALMA_RESIST/`
- [ ] Aceptar y replicar configuraciÃ³n desde ALMA_RESIST
- [ ] Establecer ambas carpetas como **Send & Receive**

---

## ğŸ§¾ Paso 2 â€“ Ignorar archivos sensibles

- [ ] Crear archivo `.stignore` con contenido:

```plaintext
.env
*.log
__pycache__/
*.pyc
.vscode/
downloads/
```

---

## ğŸ” Paso 3 â€“ Validar sincronizaciÃ³n

- [ ] Ejecutar:

```bash
curl -s localhost:8384/rest/system/connections | jq .
```

- [ ] Verificar que ambos nodos estÃ©n `connected: true`

---

## ğŸ§ª Paso 4 â€“ Script de verificaciÃ³n

- [ ] Crear script `sync_status.sh`:

```bash
#!/bin/bash
echo "[ğŸ›°ï¸ SYNC STATUS] Verificando conexiÃ³n Syncthing..."
curl -s http://localhost:8384/rest/system/connections | jq '.connections'
```

- [ ] Guardar en `ALMA_RESIST/core/scripts/`

---

## ğŸ—ƒï¸ Paso 5 â€“ DocumentaciÃ³n

- [ ] Crear archivo `docs/sync/README.md` con:

```markdown
# ğŸ““ ConfiguraciÃ³n Syncthing â€“ ALMA_RESIST

## Nodos sincronizados

- ALMA_CORE <--> ALMA_RESIST

## Carpetas sincronizadas

- ~/ALMA_RESIST/
- ~/ALMA_RESIST/obsidian_vault/

## Archivos ignorados

Ver `.stignore` en cada carpeta.

## Estado actual

- Syncthing operativo âœ…
- ConexiÃ³n establecida âœ…
- SincronizaciÃ³n bidireccional activa âœ…
```

---

## âœ… Resultado esperado

- [ ] Cambios reflejados entre nodos en menos de 3 segundos
- [ ] ReconexiÃ³n automÃ¡tica en caso de caÃ­da

---

**PrÃ³xima fase** â†’ `Fase 2: Backup GitHub + Log + Seguridad + AutomatizaciÃ³n`

