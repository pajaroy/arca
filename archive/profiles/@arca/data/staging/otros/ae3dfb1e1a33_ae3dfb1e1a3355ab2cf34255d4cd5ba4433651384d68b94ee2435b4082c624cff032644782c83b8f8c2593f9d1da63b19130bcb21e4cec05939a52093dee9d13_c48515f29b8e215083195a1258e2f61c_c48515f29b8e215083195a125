# üõ†Ô∏è ALMA LIBRE ‚Äì Prompt T√©cnico v0.0.6.1

## 1. Introducci√≥n T√©cnica

Este documento define las **instrucciones operativas, reglas internas y convenciones estructurales** del sistema ALMA LIBRE. Est√° dirigido a tres tipos de entidades:

- üß† Humanos t√©cnicos (desarrolladores, integradores, colaboradores).
- ü§ñ Inteligencias artificiales con funciones operativas (ej. asistentes en NotebookLM, agentes tipo ChatGPT, copilotos).
- üß© Sistemas externos que necesiten integrarse (scripts, APIs, extensiones, automatizaciones).

ALMA LIBRE no es una app tradicional ni un software cerrado: es un **entorno modular autosustentable**, estructurado como carpeta ra√≠z, cuadernos conectados, m√≥dulos IA, y memorias documentadas.  

Para que cualquier entidad (humana o artificial) pueda interactuar correctamente con este sistema, debe respetar:

- üìÇ La **estructura de carpetas y flujos** definida.
- üî† Las **convenciones de nombres, versiones y rutas**.
- üíæ El **formato de almacenamiento** de datos, memoria e ideas.
- üîÑ Los **procesos de actualizaci√≥n, exportaci√≥n y consolidaci√≥n**.

Este Prompt T√©cnico ser√° actualizado con cada nueva versi√≥n funcional del sistema. Cada m√≥dulo deber√° **leer esta versi√≥n del prompt antes de operar**, validando la compatibilidad entre flujos, herramientas y memorias.

> ‚öôÔ∏è Si una IA o humano no entiende este documento, no debe operar dentro del sistema ALMA LIBRE.

El sistema utiliza un esquema versionado y escalable (`0.0.6.X`) para registrar el progreso de desarrollo e integraci√≥n. Las funciones a√∫n no implementadas pueden estar referenciadas como `EN_DESARROLLO` o `RESERVADO_PARA_FASE_X`.

Este documento puede ser utilizado como:
- Prompt inicial para modelado de IA especializado.
- Base para configurar scripts que interact√∫en con carpetas y datos.
- Gu√≠a t√©cnica viva para mantener orden, integridad y evoluci√≥n controlada del sistema.


### üìÇ 2.1 Carpetas ra√≠z del sistema

Estas son las carpetas principales que deben existir dentro de `ALMA_LIBRE/`:

- `CUADERNOS/`: Cuadernos digitales por √°rea tem√°tica (uso activo y diario).
- `EMPRESAS/`: Documentaci√≥n formal/legal de proyectos y organizaciones.
- `MODULOS/`: Componentes de software, IA o automatizaci√≥n.
- `BITACORA_CENTRAL/`: Registro cronol√≥gico, res√∫menes, diagn√≥sticos.
- `RECURSOS_Y_AYUDAS/`: Plantillas, scripts, prompts, ideas reusables.
- `00_BACKUPS_HISTORICOS/`: Versiones comprimidas previas. No se debe usar para operaciones activas.

Cada subcarpeta dentro de estas secciones sigue convenciones espec√≠ficas descritas en el Glosario (`docs/Glosario_ALMA_LIBRE_0.0.6.md`).


### üß† 2.3 Estructura de versionado

- Cada avance significativo se registra como `vX.Y.Z`
- Cambios estructurales o conceptuales ‚Üí Z aumenta.
- Cambios menores en contenido t√©cnico ‚Üí `.Z+1` (ej. 0.0.6.1 ‚Üí 0.0.6.2)
- Backups hist√≥ricos comprimidos se almacenan en `00_BACKUPS_HISTORICOS/`
- Diagn√≥sticos asociados a cada versi√≥n se guardan en `BITACORA_CENTRAL/DIAGNOSTICOS/`


### ‚öôÔ∏è 2.5 Estructura de m√≥dulos (`MODULOS/`)

Cada m√≥dulo debe tener su propia carpeta (ej. `Alma_Loader/`) con esta estructura:

- `/src/`: C√≥digo fuente y archivos operativos.
- `/docs/`: Instrucciones, changelogs, dise√±o t√©cnico.
- `/tests/`: Pruebas funcionales y validaciones (opcional).
- `/config/`: Configuraciones espec√≠ficas del m√≥dulo (si aplica).

El m√≥dulo no debe asumir rutas absolutas fuera de su estructura: toda integraci√≥n debe pasar por inputs definidos o configuraci√≥n.


### üìú 2.7 Documentaci√≥n requerida por carpeta

Toda subcarpeta operativa debe incluir:

- `README.md`: Descripci√≥n del prop√≥sito y contenido.
- `CHANGELOG.md`: Si aplica, para m√≥dulos o proyectos estructurados.
- Archivos auxiliares (`version.txt`, `estructura.md`, etc.) si son necesarios para automatizaci√≥n o revisi√≥n.

## 3. M√≥dulos del Sistema

Los m√≥dulos son unidades funcionales dentro del sistema ALMA LIBRE que permiten automatizar tareas, analizar datos, gestionar memorias o ejecutar flujos. Cada uno debe estar completamente **documentado, versionado y aislado**, de modo que pueda operar sin generar efectos colaterales fuera de su carpeta.


### üîç 3.2 Descripci√≥n de m√≥dulos activos

#### üîπ `Alma_Loader`
- **Funci√≥n:** Carga, vectoriza, organiza y enlaza memorias sem√°nticas para uso por humanos e IAs.
- **Estado actual:** Estable (v3.0.3) ‚Äì Integrado con SQLite + JSON + posibles extensiones con FAISS.
- **Input esperado:** archivos `.md`, `.json` o bases de datos (`memorias.db`)
- **Output:** Res√∫menes vectorizados, referencias cruzadas, IDs √∫nicos, logs de carga.

#### üîπ `automatizacion_vpd`
- **Funci√≥n:** Recolecta, limpia y analiza datos ambientales de cultivo.
- **Estado:** En fase inicial ‚Äì estructura lista para ingesti√≥n de datos diarios.
- **Output:** Archivos `.csv`, reportes semanales, alarmas por condiciones an√≥malas.

#### üîπ `exploraciones`
- **Funci√≥n:** Espacio de prueba para nuevos scripts, IA o integraciones experimentales.
- **Nota:** No debe usarse en producci√≥n. Su contenido puede migrar a m√≥dulos formales si se valida.


### üîÑ 3.4 Inputs y Outputs esperados

Cada m√≥dulo debe definir:
- Formato exacto de entrada: `.md`, `.json`, `.sqlite`, `.csv`, etc.
- Esquema de output: nombre de archivo, carpeta destino, log de procesamiento.

Ejemplo ‚Äì `Alma_Loader`:
```yaml
input:
  - ruta: CUADERNOS/programacion.cu/archivos/
    tipo: .md
output:
  - ruta: MODULOS/Alma_Loader/output/vector_db.json
    log: MODULOS/Alma_Loader/logs/registro_de_ingesta.txt
```


Este punto garantiza que cualquier nuevo componente incorporado al sistema pueda operar con precisi√≥n, sin generar ambig√ºedades, errores de contexto ni colisiones en nombres o rutas. Cualquier nuevo m√≥dulo deber√° referenciar este documento y validar su estructura antes de escalar.


### üìÇ 4.1 Ubicaci√≥n de las memorias

Las memorias se almacenan y organizan dentro de:

- `BITACORA_CENTRAL/RESUMENES/`: estructura cronol√≥gica por trimestre, semana y d√≠a.
- `BITACORA_CENTRAL/DIAGNOSTICOS/`: evaluaciones t√©cnicas por versi√≥n (`diagnostico_v0.0.6.2.md`)
- `MODULOS/Alma_Loader/`: sistema encargado de ingesta, vectorizaci√≥n y clasificaci√≥n de memorias.

Otros cuadernos pueden tener memorias locales (e.g. `trading.cu/resumenes/`), pero toda consolidaci√≥n se realiza desde BIT√ÅCORA o Alma_Loader.


### üß¨ 4.3 Vectorizaci√≥n e ingesti√≥n

El m√≥dulo `Alma_Loader` realiza la vectorizaci√≥n de los documentos de memoria para permitir b√∫squedas sem√°nticas. Para ello:

- Extrae los textos de los archivos `.md` o `.txt`
- Los asocia a una ID √∫nica (`mem_2025_05_12_diario`)
- Los clasifica por tipo, carpeta de origen, fecha y palabras clave
- Opcional: exporta a `.json` o base `.sqlite`


### üîó 4.5 Relaciones entre memorias

Cada memoria puede referenciar otras usando:

- Enlaces relativos: `../diagnosticos/diagnostico_0.0.6.2.md`
- Menciones sem√°nticas: `#sistema_ia`, `#trading`, `#cultivo`
- Tags YAML estructurados

Estas relaciones pueden ser procesadas por m√≥dulos IA para crear mapas de conocimiento o sugerencias de acci√≥n.


Este sistema permite que ALMA LIBRE evolucione **con historia, contexto y aprendizaje real**, sin depender exclusivamente de la memoria ef√≠mera de un asistente externo. Cada memoria cuenta. Cada entrada moldea el sistema.


### üîÅ 5.1 Flujo base diario

```text
Tareas ‚Üí Cuaderno tem√°tico (.cu) ‚Üí Registro diario ‚Üí Consolidaci√≥n en bit√°cora
```

Ejemplo:
1. Se toma una decisi√≥n en `cultivo.cu/desarrollo/`.
2. Se anota el resumen en `cultivo.cu/docs/resumen_2025-05-12.md`.
3. Ese archivo se copia o vincula en `BITACORA_CENTRAL/RESUMENES/S19/2025-05-12.md`.

Este ciclo garantiza **historia, contexto y recuperaci√≥n futura**.


### üîó 5.3 Conexi√≥n M√ìDULOS ‚Üî CUADERNOS

Los m√≥dulos deben **leer desde CUADERNOS y escribir a BIT√ÅCORA o RECURSOS**, nunca directamente sobre los archivos activos de trabajo.

Ejemplo correcto:
- `alma_loader.py` toma entradas desde `CUADERNOS/trading.cu/docs/`.
- Procesa y guarda vector en `MODULOS/Alma_Loader/output/vector_db.json`.
- El log se guarda en `MODULOS/Alma_Loader/logs/`.

No est√° permitido:
- Modificar directamente archivos en `CUADERNOS/`.
- Escribir en `EMPRESAS/` desde m√≥dulos autom√°ticos.


### üìú 5.5 Flujo de escritura institucional

```text
CUADERNO ‚Üí Draft ‚Üí Validaci√≥n ‚Üí EMPRESAS/
```

Una propuesta o documento puede:
1. Nacer en `fondo_empresa.cu/docs/estructura_fondo.md`
2. Ser revisada por IA y humanos.
3. Subir a `EMPRESAS/FondoAlma.emp/estructura_fondo_v0.2.md`
4. Integrarse al changelog o whitepaper si aplica.


Este sistema de flujos internos garantiza que **nada se pierda, todo tenga contexto**, y el sistema pueda operar a largo plazo sin fragmentaci√≥n ni colapsos sem√°nticos.


### üìå 6.1 Aplicaci√≥n del esquema

Ejemplos:
- `v0.0.6.1` ‚Üí Versi√≥n estable con estructura reorganizada, lista para flujos.
- `v0.0.6.2` ‚Üí Correcciones a nomenclatura, glosario y estructuras internas.
- `v0.1.0` ‚Üí Introducci√≥n del sistema IA de memoria vectorizada completo.
- `v1.0.0` ‚Üí Primera versi√≥n formal funcional de sistema completo.


### üìÑ 6.3 Archivos clave por versi√≥n

Dentro del sistema deben mantenerse:

- `README.md`: prop√≥sito y uso general de la versi√≥n.
- `CHANGELOG.md`: listado ordenado por fecha y tipo de cambio.
- `version.txt`: solo n√∫mero de versi√≥n (`0.0.6.1`) y fecha de release (`2025-05-13`).
- `diagnostico_v0.X.Y.md`: resumen t√©cnico y propuestas de mejora futura.


### üõ°Ô∏è 6.5 Buenas pr√°cticas

- Cada versi√≥n debe poder abrirse por separado y funcionar como unidad.
- Las rutas y nombres deben seguir las convenciones del glosario correspondiente.
- Las IAs deben poder leer `README.md`, `CHANGELOG.md` y `glosario_*.md` para operar.
- No deben eliminarse versiones anteriores. Si hay errores, se corrige con `.Z+1`.

## 7. Interfaz con el Usuario y Asistentes

El sistema ALMA LIBRE fue dise√±ado para ser operado tanto por humanos como por asistentes de inteligencia artificial. Esta secci√≥n define el **comportamiento esperado, los l√≠mites operativos y las formas correctas de interacci√≥n** para garantizar seguridad, eficiencia y contexto persistente.


### üß≠ 7.2 Navegaci√≥n estructural recomendada

Al momento de operar, la IA debe:

- Leer `README.md`, `glosario_ALMA_LIBRE_0.0.6.md` y `prompt_tecnico_0.0.6.1.md` antes de actuar.
- Consultar `BITACORA_CENTRAL/RESUMENES/` para conocer eventos recientes.
- Validar versi√≥n activa a trav√©s de `version.txt`.

No debe navegar hacia carpetas fuera de `ALMA_LIBRE/`. Se proh√≠be el acceso a carpetas de backup (`00_BACKUPS_HISTORICOS/`) durante operaci√≥n activa.


### üîó 7.4 Enlace con usuarios humanos

El usuario debe tener siempre la √∫ltima palabra. La IA debe:

- Preguntar antes de intervenir sobre estructuras.
- Confirmar rutas y destinos antes de sugerir movimientos.
- Pedir confirmaci√≥n antes de generar scripts.

Adem√°s, debe permitir al humano:
- Guardar toda conversaci√≥n como archivo `.md`
- Incorporar enlaces relativos que respeten la arquitectura
- Solicitar documentaci√≥n adicional desde el sistema (`docs/`, `glosario/`, etc.)


### üõ°Ô∏è 7.6 Limitaciones y advertencias

IA no debe:
- Borrar ni sobrescribir documentos hist√≥ricos.
- Reorganizar carpetas sin checklist previa.
- Hacer supuestos sin base documental.
- Repetir informaci√≥n innecesariamente (ver secci√≥n 4.6 del whitepaper).

## 8. Extensiones Futuras

ALMA LIBRE est√° dise√±ado como un sistema modular y escalable. Esta secci√≥n anticipa c√≥mo integrar nuevas funciones, m√≥dulos o herramientas sin perder coherencia estructural ni trazabilidad.


### üß™ 8.2 Carpeta de pruebas y prototipos

Toda funci√≥n nueva debe pasar por una etapa de exploraci√≥n:

- Usar `MODULOS/exploraciones/` o `RECURSOS_Y_AYUDAS/ideas_y_esquemas/`
- Documentar prop√≥sito y l√≠mites
- Evaluar su integraci√≥n con flujos actuales

Solo una vez validado, puede escalarse a m√≥dulo oficial.


### üß† 8.4 Agentes IA especializados

Se podr√°n generar asistentes entrenados en:

- Responder sobre m√≥dulos espec√≠ficos
- Monitorear cambios y sugerir mejoras
- Operar como copilotos de ejecuci√≥n

Cada agente debe tener:

- Prompt base espec√≠fico
- Rutas claras de acceso a `docs/`, `glosario/`, `bit√°cora/`
- L√≠mite definido de modificaci√≥n o sugerencia


### üîÑ 8.6 Automatizaci√≥n de flujos

Se desarrollar√°n:

- Scripts para consolidaci√≥n semanal autom√°tica
- Generadores de changelogs
- Validadores de estructura (`validador_estructura.py`)
- Sincronizaci√≥n y backup incremental automatizado

Toda funci√≥n automatizada debe dejar trazabilidad por log y respetar las rutas oficiales.

## 9. Ap√©ndices

Esta secci√≥n contiene recursos de apoyo t√©cnico, convenciones de formato y utilidades generales que complementan el funcionamiento del sistema ALMA LIBRE.


### üìö 9.2 Glosario t√©cnico resumido

| T√©rmino        | Definici√≥n                                                                 |
|----------------|---------------------------------------------------------------------------|
| Cuaderno (.cu) | Carpeta tem√°tica que agrupa ideas, pruebas y desarrollos por √°rea activa  |
| Bit√°cora       | Registro cronol√≥gico del sistema con res√∫menes y diagn√≥sticos             |
| M√≥dulo         | Carpeta funcional con c√≥digo, configuraci√≥n y documentaci√≥n               |
| Memoria        | Entrada escrita que registra eventos, ideas, datos o decisiones           |
| Diagn√≥stico    | Evaluaci√≥n t√©cnica y conceptual del sistema                               |
| Prompt         | Instrucci√≥n dise√±ada para IA, humana o automatizada                       |
| Flujo          | Camino estructurado que conecta acciones, carpetas y decisiones           |


### üìÖ 9.4 Esquema de planificaci√≥n

```plaintext
üìÅ CUADERNOS/
   ‚îú‚îÄ alma_gral.cu/
   ‚îú‚îÄ programacion.cu/
   ‚îî‚îÄ fondo_empresa.cu/

üìÅ MODULOS/
   ‚îú‚îÄ Alma_Loader/
   ‚îî‚îÄ exploraciones/

üìÅ BITACORA_CENTRAL/
   ‚îú‚îÄ RESUMENES/
   ‚îî‚îÄ DIAGNOSTICOS/

üìÅ EMPRESAS/
üìÅ RECURSOS_Y_AYUDAS/
üìÅ 00_BACKUPS_HISTORICOS/
```


Este ap√©ndice asegura una base t√©cnica com√∫n que puede consultarse en cualquier etapa para evitar errores, malentendidos o desv√≠os en la evoluci√≥n del sistema.

