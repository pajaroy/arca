# ‚úÖ Solicitud de Test ‚Äì `test_transport_layer.py` ‚Äì ALMA_RESIST Sprint 2.6

Este test debe validar el correcto funcionamiento del m√≥dulo `transport_layer.py`, el cual se encarga de:

- Validar datos contra contratos JSON Schema
- Guardar prompts y respuestas en disco como `.json`
- Recuperar entradas previas
- Mantener una rotaci√≥n de archivos m√°xima


## üß™ Casos de prueba sugeridos

| Caso                                               | Resultado esperado                        |
|----------------------------------------------------|-------------------------------------------|
| Env√≠o de prompt v√°lido                             | Archivo `.json` creado correctamente      |
| Env√≠o de respuesta v√°lida                          | Archivo `.json` creado y validado         |
| Env√≠o de prompt malformado (sin campo requerido)   | Lanza `jsonschema.ValidationError`        |
| Recuperaci√≥n de √∫ltima entrada                     | `receive()` devuelve JSON esperado        |
| Listado de entradas                                | `list_entries()` devuelve lista ordenada  |
| Rotaci√≥n de archivos (`purge_old_entries`)         | Borra archivos antiguos, mantiene m√°ximo  |
| Directorio inexistente                             | Se crea autom√°ticamente                   |
| Contratos corruptos o ausentes                     | Lanza `RuntimeError`                      |


## üìÇ Archivos relacionados

- `transport_layer.py` (m√≥dulo a testear)
- `schema_prompt.json`
- `schema_respuesta.json`
- `test_model_wrapper.py`, `test_api_responder.py` (ya implementados)

