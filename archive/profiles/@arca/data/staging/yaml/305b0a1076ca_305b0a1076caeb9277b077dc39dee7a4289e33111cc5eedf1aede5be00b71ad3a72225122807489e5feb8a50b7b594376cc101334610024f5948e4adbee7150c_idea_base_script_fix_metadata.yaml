---
version: 1.0
id: IDEA_2025-06-06_01
tipo: idea_base_script
formato: yaml
modulo: centralesis/core/notebooks
titulo: "Script universal para correcciÃ³n y estandarizaciÃ³n de metadata en archivos crÃ­ticos"
autor: centralesis
fecha_creacion: 2025-06-06
fecha_actualizacion: 2025-06-06
status: en_desarrollo
version_sistema: 2.3
origen: manual
tags: [metadata, fix, script, auditoria, estandarizacion]
hash_integridad: sha256:pending
linked_to: []
descripcion: >
  Documento de idea base y requisitos para el desarrollo del script "fix_metadata", encargado de validar, corregir y estandarizar los bloques de metadata en todos los archivos crÃ­ticos de Centralesis y ecosistema ALMA_RESIST. ServirÃ¡ como referencia oficial para implementaciÃ³n, auditorÃ­a y evoluciÃ³n futura.
---

# ðŸ§  IDEA BASE â€” Script `fix_metadata`

## Objetivo

Desarrollar un script auditable y modular que recorra todos los archivos relevantes de un directorio (y subdirectorios), valide la existencia y formato del bloque de metadata, complete campos faltantes, corrija inconsistencias y agregue el hash de integridad.

## Alcance

- Archivos objetivo: `.md`, `.yaml`, `.py`, `.sh`, `.json` dentro de Centralesis y, a futuro, cualquier mÃ³dulo de ALMA_RESIST.
- Compatible con estructuras de metadata en YAML frontmatter (delimitadas por `---`).
- Debe ser portable y fÃ¡cil de adaptar para otros formatos si se requiere.

## Requerimientos MÃ­nimos

- Detectar y validar la presencia de bloque metadata universal.
- Agregar campos obligatorios si faltan (`version`, `id`, `tipo`, `formato`, `modulo`, `titulo`, `autor`, `fecha_creacion`, `fecha_actualizacion`, `status`, `version_sistema`, `origen`, `tags`, `hash_integridad`, `linked_to`, `descripcion`).
- Verificar unicidad y consistencia de `id`.
- Actualizar `fecha_actualizacion` automÃ¡ticamente.
- Calcular y escribir el hash SHA-256 de integridad despuÃ©s de cada cambio.
- Loggear acciones y mantener backup automÃ¡tico del archivo original.
- Permitir modo â€œdry runâ€ para diagnÃ³sticos sin escritura.
- Reportar por consola/archivo los archivos no corregibles.
- Soportar configuraciÃ³n modular para inclusiÃ³n/exclusiÃ³n de carpetas o tipos de archivo.

## Flujo Propuesto

1. Recorrer recursivamente el directorio objetivo.
2. Para cada archivo relevante:
   - Leer y parsear metadata (YAML frontmatter).
   - Validar todos los campos obligatorios.
   - Completar/corregir segÃºn plantilla.
   - Calcular y escribir hash.
   - Loggear acciÃ³n y mantener backup.
3. Generar reporte resumen (Ã©xitos, fallos, archivos omitidos).

## Futuras Extensiones

- ValidaciÃ³n con JSON Schema externo.
- Firma digital y control de versiones automÃ¡tico.
- Interfaz CLI con opciones avanzadas.
- Modo integraciÃ³n CI/CD para pipelines de validaciÃ³n.
- Compatibilidad con otros tipos de frontmatter (TOML, JSON).

## Referencias

- Plantilla de metadata oficial Centralesis/ALMA_RESIST.
- Protocolo de migraciÃ³n y rotaciÃ³n de memorias institucionales.
- Manual tÃ©cnico y glosario actualizado.

---

> â€œSin metadata, no hay auditorÃ­a. Sin auditorÃ­a, no hay confianza.â€  
> â€” Centralesis

