# Prompt DeepSeek – Script de Registro de Aprendizaje de Flujo de Trabajo (Replicable)

id: FLUJO_TRABAJO_SCRIPT_2025-06-08_01
autor: bird
fecha: 2025-06-08
tipo: solicitud_script_cli
modulo: flujo_de_trabajo
titulo: "Script CLI genérico para registro de aprendizajes de flujo de trabajo en YAML"
descripcion: |
  Desarrollá un script CLI en Python llamado `add_aprendizaje_flujo.py` para registrar aprendizajes metodológicos como nuevas entradas en cualquier archivo YAML de flujos de trabajo.

  El archivo destino se debe pasar siempre con el argumento obligatorio:
    --flujo_aprendizajes /ruta/al/archivo_destino.yaml

  El script debe aceptar argumentos CLI para cada campo, agregar la entrada a la lista YAML, manejar fechas, validaciones y emitir un resumen.

campos_requeridos:
  - que_aprendi
  - que_aprendio_sistema
  - cambio_metodologico
  - consejo_futuro
  - error_evitar
  - observaciones (opcional)
  - autor (default: "bird")
  - chat_id (opcional)
  - flujo_aprendizajes (ruta YAML destino, requerido)

requerimientos:
  - El script debe tomar la fecha actual (UTC) automáticamente.
  - Si el archivo YAML no existe, debe crearlo con lista vacía y encabezado comentado.
  - El registro se agrega como nuevo ítem en la lista YAML.
  - Debe validar encoding UTF-8 y evitar errores por concurrencia.
  - Output: mostrar resumen de la entrada, fecha, autor y ruta.
  - Código limpio, modular, bien comentado.

ejemplo_uso: |
  python3 /home/bird/alma_core/control_central/core/notebooks/add_aprendizaje_flujo/add_aprendizaje_flujo.py \
    --que_aprendi "Implementé la plantilla de flujos de trabajo y lo integré con un script automático." \
    --que_aprendio_sistema "Prefiero registrar aprendizajes al cierre de cada sesión." \
    --cambio_metodologico "Ahora cada sprint cierra con una entrada YAML de aprendizaje vivo." \
    --consejo_futuro "No omitir la reflexión de cierre por apuro: siempre aporta valor." \
    --error_evitar "Dejar el archivo sin versionar o olvidar registrar aprendizajes críticos." \
    --autor "bird" \
    --flujo_aprendizajes "/ruta/al/flujo_aprendizajes.yaml"

output_esperado: |
  Mensaje de confirmación, mostrando la entrada agregada, fecha, autor y ruta del archivo.

  Devolver solo el script Python, sin instrucciones adicionales.

notas: |
  El script debe ser reutilizable por cualquier módulo o agente del ecosistema, 
  simplemente cambiando la ruta destino del archivo YAML.

  Mantener el prompt y el script bajo control de versiones.
